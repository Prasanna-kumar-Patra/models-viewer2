<!doctype html>
<html lang="en">

<head>
  <title>&lt;model-viewer&gt; template</title>
  <meta charset="utf-8">
  <meta name="description" content="&lt;model-viewer&gt; template">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link type="text/css" href="./styles1.css" rel="stylesheet" />
  <!-- OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
  <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
</head>

<body>
  <!-- <model-viewer> HTML element -->
  <model-viewer id="mv1" src="../glbs/cardiac_anatomy_external_view_of_human_heart.glb" ar
    ar-modes="webxr scene-viewer quick-look" camera-controls poster="poster.webp" shadow-intensity="1"
    camera-orbit="-41.13deg 55.33deg 2.741m" field-of-view="24.45deg">
    <button class="Hotspot" slot="hotspot-1" data-orbit="-41.51deg 58.47deg 2.741m" field-of-view="24.45deg"
      data-target="-0.09m 0.1146m 0.317m" data-surface="28 0 21451 21566 21567 0.528 0.292 0.180"
      data-visibility-attribute="visible">
      1<div class="HotspotAnnotation">Ascending Aorta</div>
    </button>

    <button class="Hotspot" slot="hotspot-2" data-target="0.11m 0.22m 0.1575m" data-orbit="7.978deg 30.42deg 4.092m"
      field-of-view="15.48deg" data-surface="29 0 49759 49758 49757 0.018 0.134 0.848"
      data-visibility-attribute="visible">
      2<div class="HotspotAnnotation">Ligamentum Arteriosum</div>
    </button>

    <button class="Hotspot" slot="hotspot-3" data-orbit="15.58deg 24.96deg 3.316m" field-of-view="12deg" id="mv1"
      data-target="0.28m 0.3169m 0.05139m" data-surface="32 0 17565 17567 17568 0.582 0.175 0.243"
      data-visibility-attribute="visible">
      3<div class="HotspotAnnotation">Pulmonary Trunk
        <br>Carries deoxygenated blood from the right ventricle to the lungs
        (via the left and right pulmonary arteries)
      </div>
    </button>


    <button class="Hotspot" slot="hotspot-9"  data-orbit="-68.76deg 83.57deg 3.886m" field-of-view="13.61deg" id="mv1"
      data-target="-0.12m 0.1673m 0.1239m" data-surface="16 0 33766 33770 33764 0.688 0.248 0.064"
      data-visibility-attribute="visible">9
      <div class="HotspotAnnotation">Right AuricleThe right auricle comes from the right atrium and is a remnant of
        the embryonic right atrium.</div>
    </button>

    <button class="Hotspot" slot="hotspot-4" id="mv1" data-orbit="96.78deg 81.35deg 2.798m" field-of-view="25.39deg" data-target="0.35m 0.08283m 0.04828m"
    data-surface="12 0 29659 29658 29656 0.496 0.220 0.285" data-visibility-attribute="visible">4
        <div class="HotspotAnnotation">Left AuricleThe left auricle comes from the left wall of the left atrium and is a remnant of the embryonic left atrium.</div>
    </button>

    <button class="Hotspot" slot="hotspot-5" id="mv1" data-orbit="-554deg 81.35deg 2.29m" field-of-view="18.2deg" data-target="0.16m -0.09846m -0.1563m"
    data-surface="24 0 24979 24978 24977 0.317 0.164 0.519" data-visibility-attribute="visible">5
        <div class="HotspotAnnotation">Left AtriumForms most of the posterior surface of the heart. It receives oxygenated blood from the lungs through the left and 
            right pulmonary veins, passing it on to the left ventricle via the mitral valve during atrial systole.</div>
    </button>

    <button class="Hotspot" slot="hotspot-6" id="mv1" data-orbit="-554deg 81.35deg 2.544m" field-of-view="21.5deg" data-target="0.32m -0.0519m -0.1238m"
    data-surface="3 0 11594 11260 11287 0.635 0.167 0.197" data-visibility-attribute="visible">6
        <div class="HotspotAnnotation">Left Superior and Inferior Pulmonary VeinsReceives oxygenated blood from the superior and inferior lobes of the left lung, 
            passing it on to the left atrium.</div>
    </button>

    <button class="Hotspot" slot="hotspot-7" id="mv1" data-orbit="-554deg 81.35deg 2.798m" field-of-view="25.39deg" data-target="-0.04m -0.07845m -0.1691m"
    data-surface="24 0 3220 3235 3215 0.567 0.056 0.377" data-visibility-attribute="visible">7
        <div class="HotspotAnnotation">Right Superior and Inferior Pulmonary VeinsReceives oxygenated blood from the superior, 
            middle and inferior lobes of the right lung, passing it on to the left atrium.</div>
    </button>

    <button class="Hotspot" slot="hotspot-10" data-orbit="-99.22deg 104.3deg 2.798m" field-of-view="25.39deg" data-target="-0.11m -0.4627m 0.08874m"
    data-surface="15 0 30900 30897 30896 0.695 0.223 0.081" data-visibility-attribute="visible">10
       <div class="HotspotAnnotation">Inferior Vena CavaThe inferior vena cava delivers deoxygenated blood from the lower and middle body to the right atrium.</div>
   </button>

    <button class="Hotspot" slot="hotspot-11" id="mv1" data-orbit="-19.34deg 83.35deg 2.798m" field-of-view="25.39deg" 
    data-target="-0.06m 0.3756m -0.06776m"
    data-surface="14 0 21107 21172 21106 0.456 0.478 0.066" data-visibility-attribute="visible">11
        <div class="HotspotAnnotation">Superior Vena CavaIt begins where the left and right brachiocephalic veins unite. 
            It delivers deoxygenated blood from the thoracic cavity, head, neck and upper limbs to the right atrium.</div>
    </button>
  </button><button class="Hotspot" slot="hotspot-12"  id="mv1" data-orbit="-66.35deg 86.41deg 2.29m" field-of-view="18.2deg" data-target="-0.02m -0.08211m 0.6286m"
  data-surface="38 0 45313 45315 45314 0.288 0.332 0.380" data-visibility-attribute="visible">12
      <div class="HotspotAnnotation">Right VentricleThe right ventricle fills with deoxygenated blood from the right atrium during ventricular diastole, 
          when its muscle walls are relaxed. As the right ventricle contracts, ventricular systole, it forces the deoxygenated blood through the 
          pulmonary valve and into the pulmonary trunk.</div>
  </button>

  <button class="Hotspot" slot="hotspot-13" id="mv1" camera-orbit="115.5deg 152.2deg 2.798m" field-of-view="25.39deg" camera-target="0.37m -0.4199m 0.4668m"
    data-surface="36 0 53462 53463 53464 0.533 0.259 0.208" data-visibility-attribute="visible">13
        <div class="HotspotAnnotation">Left VentricleThe left ventricle fills with oxygenated blood from the left atrium during ventricular diastole, 
            when its muscle walls are relaxed. As the left ventricle contracts, ventricular systole, it forces the oxygenated blood through the aortic 
            valve and into the ascending aorta.</div>
    </button>
    
    <button class="Hotspot" slot="hotspot-14" data-orbit="-64.82deg 69.98deg 2.232m" field-of-view="17.52deg" id="mv1" 
    data-target="-0.1m 0.09864m 0.2733m"
    data-surface="18 0 14358 14363 14362 0.421 0.247 0.332" data-visibility-attribute="visible">14
      <div class="HotspotAnnotation">
        <p class="title">Right Coronary Artery</p>
        <p>The right coronary artery originates from the right aortic sinus of the ascending aorta. </p>
      <p>Along its course, it gives rise to several branches: atrial branch, conus branch, ventricular branches, right marginal branch,
           posterior interventricular and right posterolateral branch.</p></div>
  </button>

  <button class="Hotspot" slot="hotspot-15" id="mv1" data-orbit="96.78deg 81.35deg 2.798m" field-of-view="25.39deg" data-target="0.31m 0.1489m 0.1048m"
    data-surface="19 0 2697 2419 2415 0.623 0.063 0.314" data-visibility-attribute="visible">15
        <div class="HotspotAnnotation"><p class="title">Left Coronary Artery</p>
          <p>The left coronary artery originates from the left aortic sinus of the ascending aorta.</p>
            <p>The artery divides into its two terminal branches: the anterior interventricular branch and the circumflex branch.</p></div>
    </button>


    <button class="Hotspot" slot="hotspot-17" data-orbit="113.6deg 103.5deg 2.741m" field-of-view="24.45deg" data-target="0.32m -0.149m 0.03313m"
    data-surface="7 0 42361 42363 42364 0.364 0.030 0.606" data-visibility-attribute="visible">17
        <div class="HotspotAnnotation">Great Cardiac Vein</div>
    </button>

    <button class="Hotspot" slot="hotspot-20" id="mv1" data-orbit="115.9deg 138.8deg 2.798m" field-of-view="25.39deg" data-target="0.34m -0.3433m 0.193m"
    data-surface="7 0 23770 23834 23769 0.779 0.033 0.188" data-visibility-attribute="visible">20
        <div class="HotspotAnnotation">Posterior Cardiac Vein</div>
    </button>


    <div class="progress-bar hide" slot="progress-bar">
      <div class="update-bar"></div>
    </div>
    <button slot="ar-button" id="ar-button">
      View in your space
    </button>
    <div id="ar-prompt">
      <img src="https://modelviewer.dev/shared-assets/icons/hand.png">
    </div>




    <div class="pagination">
      <button class="arrow arrow-left">◂</button>
      <label>Left Coronary Artery</label>
      <button class="arrow arrow-right">▸</button>
    </div>

    <div class="description-box">
      <p class="title">Left Coronary Artery</p>
      <p>The left coronary artery originates from the left aortic sinus of the ascending aorta.</p>
      <p>The artery divides into its two terminal branches: the anterior interventricular branch and the circumflex branch.</p>
    </div>

  </model-viewer>



  <script type="module">
    const modelViewer2 = document.querySelector("#mv1");
    const annotationClicked = (annotation) => {
      let dataset = annotation.dataset;
      console.log("pkp:  ~ file: index2.html:76 ~ annotationClicked ~ dataset", dataset)
      modelViewer2.cameraTarget = dataset.target;
      // Initial Camera Position = camera-orbit
      modelViewer2.cameraOrbit = dataset.orbit;
      modelViewer2.fieldOfView = '0deg';
      // modelViewer2.fieldOfView = dataset.view;
      // modelViewer2.querySelectorAll('button').forEach((hotspot) => {
      //   hotspot.classList.remove('active')
      // })
      // annotation.classList.toggle('active');

      // console.log(annotation);
    }

    modelViewer2.querySelectorAll('button').forEach((hotspot) => {
      console.log("pkp:  ~ file: index2.html:48 ~ modelViewer2.querySelectorAll ~ hotspot", hotspot)
      hotspot.addEventListener('click', () => annotationClicked(hotspot));

    });

    window.addEventListener('click',(e)=>{
      document.querySelectorAll('.Hotspot').forEach((hotspot) => {
        hotspot.classList.remove('active')
      })
      if(e.target.classList.contains('Hotspot')){
        e.target.classList.add('active')
      }

    })

  </script>


  <style type="text/css">
    .Hotspot {
      background: #484848;
      border: none;
      border-radius: 50%;
      box-sizing: border-box;
      box-shadow: 0 2px 4px rgba(85, 85, 85, 0.25);
      color: rgba(255, 255, 255, 0.8);
      border: 1px solid #ffffffb9;
      display: block;
      font-family: Futura, Helvetica Neue, sans-serif;
      font-size: 11px;
      font-weight: 700;
      /* max-width: 128px; */
      overflow-wrap: break-word;
      padding: 0;
      position: absolute;
      width: 22px;
      height: 22px;
      transform: translate3d(-50%, -50%, 0);
      transition: all 0.2s;
    }
    .Hotspot.active {
      z-index: 999;
    }
    .Hotspot:hover {
      color: #56adff;
      box-shadow: 0 0 10px #56adff;
      border-color: #56adff;

    }
  </style>

  <script src="script.js"></script>

  <!-- Loads <model-viewer> for browsers: -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</body>

</html>