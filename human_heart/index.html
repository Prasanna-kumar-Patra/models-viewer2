<!doctype html>
<html lang="en">

<head>
  <title>Cardiac Anatomy: External view of human heart</title>
  <meta charset="utf-8">
  <meta name="description" content="&lt;model-viewer&gt; template">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link type="text/css" href="../css/styles1.css" rel="stylesheet" />
  <!-- OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
  <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
</head>

<body>
  
  <!-- <model-viewer> HTML element -->
    <model-viewer id="mv1" src="../glbs/cardiac_anatomy_external_view_of_human_heart.glb" ar
    ar-modes="webxr scene-viewer quick-look" camera-controls poster="poster.webp" shadow-intensity="1" camera-target="0.1296m 0.03m 0.203m" camera-orbit="-41.13deg 55.33deg 2.995m" field-of-view="28.88deg">


    <button class="Hotspot" data-audio="myAudio1" slot="hotspot-1" data-orbit="-41.51deg 58.47deg 2.741m" field-of-view="24.45deg"
      data-target="-0.09m 0.1146m 0.317m" data-surface="28 0 21451 21566 21567 0.528 0.292 0.180"
      data-visibility-attribute="visible">
      1<div class="HotspotAnnotation">
        <p class="title">Ascending Aorta</p>
      <p></p></div>
    </button>

    <button class="Hotspot" data-audio="myAudio2" slot="hotspot-2" data-target="0.11m 0.22m 0.1575m" data-orbit="7.978deg 30.42deg 4.092m"
      field-of-view="15.48deg" data-surface="29 0 49759 49758 49757 0.018 0.134 0.848"
      data-visibility-attribute="visible">
      2<div class="HotspotAnnotation">
        <p class="title">Ligamentum Arteriosum</p>
      <p></p>
    </div>
    </button>

    <button class="Hotspot" data-audio="myAudio3" slot="hotspot-3" data-orbit="15.58deg 24.96deg 3.316m" field-of-view="12deg" 
      data-target="0.28m 0.3169m 0.05139m" data-surface="32 0 17565 17567 17568 0.582 0.175 0.243"
      data-visibility-attribute="visible">
      3<div class="HotspotAnnotation">
        <p class="title">Pulmonary Trunk</p>
        <p>Pulmonary Trunk
          <br>Carries deoxygenated blood from the right ventricle to the lungs
          (via the left and right pulmonary arteries)</p>
      </div>
    </button>


    <button class="Hotspot" data-audio="myAudio4" slot="hotspot-4"  data-orbit="96.78deg 81.35deg 2.798m" field-of-view="25.39deg"
      data-target="0.35m 0.08283m 0.04828m" data-surface="12 0 29659 29658 29656 0.496 0.220 0.285"
      data-visibility-attribute="visible">4
      <div class="HotspotAnnotation">
        <p class="title">Left Auricle</p>
        <p>The left auricle comes from the left wall of the left atrium and is a
          remnant of the embryonic left atrium.</p>
        </div>
    </button>

    <button class="Hotspot" data-audio="myAudio5" slot="hotspot-5"  data-orbit="-554deg 81.35deg 2.29m" field-of-view="18.2deg"
      data-target="0.16m -0.09846m -0.1563m" data-surface="24 0 24979 24978 24977 0.317 0.164 0.519"
      data-visibility-attribute="visible">5
      <div class="HotspotAnnotation">
        
        <p class="title"> Left Atrium</p>
        <p>Forms most of the posterior surface of the heart. It receives oxygenated
          blood from the lungs through the left and
          right pulmonary veins, passing it on to the left ventricle via the mitral valve during atrial systole.</p>
       </div>
    </button>

    <button class="Hotspot" data-audio="myAudio6" slot="hotspot-6"  data-orbit="-554deg 81.35deg 2.544m" field-of-view="21.5deg"
      data-target="0.32m -0.0519m -0.1238m" data-surface="3 0 11594 11260 11287 0.635 0.167 0.197"
      data-visibility-attribute="visible">6
      <div class="HotspotAnnotation">
        
        <p class="title">Left Superior and Inferior Pulmonary Veins</p>
        <p>Receives oxygenated blood from the
          superior and inferior lobes of the left lung,
          passing it on to the left atrium.</p></div>
    </button>

    <button class="Hotspot" data-audio="myAudio7" slot="hotspot-7"  data-orbit="-554deg 81.35deg 2.798m" field-of-view="25.39deg"
      data-target="-0.04m -0.07845m -0.1691m" data-surface="24 0 3220 3235 3215 0.567 0.056 0.377"
      data-visibility-attribute="visible">7
      <div class="HotspotAnnotation">
        <p class="title">Right Superior and Inferior Pulmonary Veins</p> 
        <p>Receives oxygenated blood from the
          superior,middle and inferior lobes of the right lung, passing it on to the left atrium.</p></div>
    </button>

    <button class="Hotspot" data-audio="myAudio8" slot="hotspot-8" data-surface="15 0 19051 19052 19058 0.770 0.128 0.102"  data-orbit="-94.63deg 91.64deg 3.053m" field-of-view="30deg" data-target="0.12m -0.1m 0.2m"data-visibility-attribute="visible">8
      <div class="HotspotAnnotation">
          <p class="title">Right Atrium</p>
          <p>Receives deoxygenated blood from the body via the superior and inferior vena cava. It passes the blood on to the right ventricle via the tricuspid valve during atrial systole.</p>
          </div>
  </button>

    <button class="Hotspot" data-audio="myAudio9" slot="hotspot-9" data-orbit="-68.76deg 83.57deg 3.886m" field-of-view="13.61deg" 
    data-target="-0.12m 0.1673m 0.1239m" data-surface="16 0 33766 33770 33764 0.688 0.248 0.064"
    data-visibility-attribute="visible">9
    <div class="HotspotAnnotation">
      <p class="title">Right Auricle</p>
      <p>The right auricle comes from the right atrium and is a remnant of
        the embryonic right atrium.</p></div>
  </button>
    <button class="Hotspot" data-audio="myAudio10" slot="hotspot-10" data-orbit="-99.22deg 104.3deg 2.798m" field-of-view="25.39deg"
      data-target="-0.11m -0.4627m 0.08874m" data-surface="15 0 30900 30897 30896 0.695 0.223 0.081"
      data-visibility-attribute="visible">10
      <div class="HotspotAnnotation">
        <p class="title">Inferior Vena Cava</p>
        <p>The inferior vena cava delivers deoxygenated blood from the lower
          and middle body to the right atrium.</p></div>
    </button>

    <button class="Hotspot" data-audio="myAudio11" slot="hotspot-11"  data-orbit="-19.34deg 83.35deg 2.798m" field-of-view="25.39deg"
      data-target="-0.06m 0.3756m -0.06776m" data-surface="14 0 21107 21172 21106 0.456 0.478 0.066"
      data-visibility-attribute="visible">11
      <div class="HotspotAnnotation">
        <p class="title">Superior Vena Cava</p>
        <p>It begins where the left and right brachiocephalic veins unite.
          It delivers deoxygenated blood from the thoracic cavity, head, neck and upper limbs to the right atrium.</p>
        </div>
    </button>

    <button class="Hotspot" data-audio="myAudio12" slot="hotspot-12"  data-orbit="-66.35deg 86.41deg 2.29m"
      field-of-view="18.2deg" data-target="-0.02m -0.08211m 0.6286m"
      data-surface="38 0 45313 45315 45314 0.288 0.332 0.380" data-visibility-attribute="visible">12
      <div class="HotspotAnnotation">
        <p class="title">Right Ventricle</p>
        <p>The right ventricle fills with deoxygenated blood from the right
          atrium during ventricular diastole,
          when its muscle walls are relaxed. As the right ventricle contracts, ventricular systole, it forces the
          deoxygenated blood through the
          pulmonary valve and into the pulmonary trunk.</p>
        </div>
    </button>

    <button class="Hotspot" data-audio="myAudio13" slot="hotspot-13" data-surface="40 0 2821 2823 2824 0.382 0.516 0.102"  data-orbit="115.6deg 157.5deg 3.053m" field-of-view="30deg" data-target="0.36m -0.4231m 0.4802m" data-visibility-attribute="visible">13
      <div class="HotspotAnnotation">
          <p class="title">Left Ventricle</p>
          <p>The left ventricle fills with oxygenated blood from the left atrium during ventricular diastole, when its muscle walls are relaxed. As the left ventricle contracts, ventricular systole, it forces the oxygenated blood through the aortic valve and into the ascending aorta.</p>
          </div>
  </button>

    <button class="Hotspot" data-audio="myAudio14" slot="hotspot-14" data-orbit="-64.82deg 69.98deg 2.232m" field-of-view="17.52deg" 
      data-target="-0.1m 0.09864m 0.2733m" data-surface="18 0 14358 14363 14362 0.421 0.247 0.332"
      data-visibility-attribute="visible">14
      <div class="HotspotAnnotation">
        <p class="title">Right Coronary Artery</p>
        <p>The right coronary artery originates from the right aortic sinus of the ascending aorta. </p>
        <p>Along its course, it gives rise to several branches: atrial branch, conus branch, ventricular branches, right
          marginal branch,
          posterior interventricular and right posterolateral branch.</p>
      </div>
    </button>

    <button class="Hotspot" data-audio="myAudio15" slot="hotspot-15"  data-orbit="96.78deg 81.35deg 2.798m" field-of-view="25.39deg"
      data-target="0.31m 0.1489m 0.1048m" data-surface="19 0 2697 2419 2415 0.623 0.063 0.314"
      data-visibility-attribute="visible">15
      <div class="HotspotAnnotation">
        <p class="title">Left Coronary Artery</p>
        <p>The left coronary artery originates from the left aortic sinus of the ascending aorta.</p>
        <p>The artery divides into its two terminal branches: the anterior interventricular branch and the circumflex
          branch.</p>
      </div>
    </button>

    <button class="Hotspot" data-audio="myAudio16" slot="hotspot-16" data-surface="8 0 38395 38394 38426 0.233 0.642 0.125"  data-orbit="128.6deg 157.5deg 2.798m" field-of-view="25.39deg" data-target="0.18m -0.3334m 0.04246m" data-visibility-attribute="visible">16
      <div class="HotspotAnnotation">
          <p class="title">Coronary Sinus</p>
          <p>The coronary sinus receives blood from four major tributaries: the great cardiac vein, middle cardiac vein, small cardiac vein and posterior cardiac vein. The coronary sinus then drains into the right atrium, near the opening of the inferior vena cava.</p></div>
  </button>

    <button class="Hotspot" data-audio="myAudio17" slot="hotspot-17" data-orbit="113.6deg 103.5deg 2.741m" field-of-view="24.45deg"
      data-target="0.32m -0.149m 0.03313m" data-surface="7 0 42361 42363 42364 0.364 0.030 0.606"
      data-visibility-attribute="visible">17
      <div class="HotspotAnnotation">
        <p class="title">Great Cardiac Vein</p>
      <p></p>
    </div>
    </button>

    <button class="Hotspot" data-audio="myAudio18" slot="hotspot-18" data-surface="8 0 9560 9620 9619 0.159 0.690 0.151"  data-orbit="153.4deg 157.5deg 2.798m" field-of-view="25.39deg" data-target="0.03m -0.38m 0.24m" data-visibility-attribute="visible">18
      <div class="HotspotAnnotation">
          <p class="title">Middle Cardiac Vein</p>
          <p></p>
      </div>
  </button>

  <button class="Hotspot" data-audio="myAudio19" slot="hotspot-19" data-surface="7 0 13219 13236 13225 0.034 0.743 0.223"  data-orbit="281.4deg 138deg 2.798m" field-of-view="25.39deg" data-target="-0.11m -0.352m 0.4028m" data-visibility-attribute="visible">19
    <div class="HotspotAnnotation">
        <p class="title">Small Cardiac Vein</p>
    <p></p>
</div>
</button>

    <button class="Hotspot" data-audio="myAudio20" slot="hotspot-20"  data-orbit="115.9deg 138.8deg 2.798m" field-of-view="25.39deg"
      data-target="0.34m -0.3433m 0.193m" data-surface="7 0 23770 23834 23769 0.779 0.033 0.188"
      data-visibility-attribute="visible">20
      <div class="HotspotAnnotation">
        <p class="title">Posterior Cardiac Vein</p>
      <p></p>
    </div>
    </button>


    <div class="progress-bar hide" slot="progress-bar">
      <div class="update-bar"></div>
    </div>
    <button slot="ar-button" id="ar-button">
      View in your space
    </button>
    <div id="ar-prompt">
      <img src="https://modelviewer.dev/shared-assets/icons/hand.png">
    </div>

    <div class="pagination">

    </div>
    <div class="listPopup" style="display:none"></div>

    <!-- <div class="description-box">
      <p class="title">Left Coronary Artery</p>
      <p>The left coronary artery originates from the left aortic sinus of the ascending aorta.</p>
      <p>The artery divides into its two terminal branches: the anterior interventricular branch and the circumflex
        branch.</p>
    </div> -->

  </model-viewer>



  <script type="module">
    var ap = '';
    const modelViewer2 = document.querySelector("#mv1");
    const annotationClicked = (annotation) => {
      let dataset = annotation.dataset;
      console.log("pkp:  ~ file: index2.html:76 ~ annotationClicked ~ dataset", dataset)
      modelViewer2.cameraTarget = dataset.target;
      // Initial Camera Position = camera-orbit
      modelViewer2.cameraOrbit = dataset.orbit;
      modelViewer2.fieldOfView = '0deg';
      ap.playAudio(dataset.audio, "from module1");
      // modelViewer2.fieldOfView = dataset.view;
      // modelViewer2.querySelectorAll('button').forEach((hotspot) => {
      //   hotspot.classList.remove('active')
      // })
      // annotation.classList.toggle('active');

      // console.log(annotation);
    }
    const navBtnClicked = (arrow) => {
      console.log("pkp:  ~ file: index.html:197 ~ navBtnClicked ~ arrow", arrow)
      let dataset = arrow.dataset;

    }

    modelViewer2.querySelectorAll('button.Hotspot').forEach((hotspot) => {
      console.log("pkp:  ~ file: index2.html:48 ~ modelViewer2.querySelectorAll ~ hotspot", hotspot)
      hotspot.addEventListener('click', () => annotationClicked(hotspot));

    });

    modelViewer2.querySelectorAll('button.arrow').forEach((arrow) => {
      console.log("pkp:  ~ file: index.html:222 ~ modelViewer2.querySelectorAll ~ arrow", arrow)
      arrow.addEventListener('click', () => navBtnClicked(arrow));

    });


    // window.addEventListener('click', (e) => {
    //   document.querySelectorAll('.Hotspot').forEach((hotspot) => {
    //     hotspot.classList.remove('active')
    //   })
    //   if (e.target.classList.contains('Hotspot')) {
    //     e.target.classList.add('active')
    //   }

    // })


    $(document).ready(function () {
      ap = new Controls(annotationClicked);
      ap.init();
    })




  </script>


  <script src="script.js"></script>
  <script src="./js/controls.js"></script>
  <script src="./js/jquery-1.12.4.min.js"></script>

  <!-- <script>
     $(document).ready(function() {
            var ap = new Controls(annotationClicked);
            ap.init();
        })
  </script> -->

  <!-- Loads <model-viewer> for browsers: -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</body>

</html>